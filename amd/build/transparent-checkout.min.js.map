{"version":3,"sources":["../src/transparent-checkout.js"],"names":["brandName","loadDoc","courseid","p","require","ajax","promises","call","methodname","args","done","response","setPagueSeguroWSSessionId","stoken","courseP","fail","sessionId","courseId","PagSeguroDirectPayment","setSessionId","getPaymentMethods","success","$","templates","notification","render","JSON","parse","html","js","runTemplateJS","onSenderHashReady","status","senderHash","createMasks","exception","error","document","getElementById","innerHTML","stringify","complete","mask","onKeyPress","ph","e","field","ph_options","masks","length","doc","options","buscaCEP","cep","val","replace","test","getJSON","dados","logradouro","bairro","localidade","uf","ibge","limpa_formulário_cep","alert","checkBrand","el","cp","cardnum","value","getBrand","cardBin","substring","brand","name","installments","n","Number","parseFloat","toFixed","getInstallments","amount","sel_installments","forEach","inst","paycc","ccValidateFields","ccNum","ccCvv","ccExp","split","createCardToken","cardNumber","cvv","expirationMonth","expirationYear","card","token","submit","urlParams","URLSearchParams","window","location","search","get","payboleto","boletoValidateFields","hash","rtn","trim"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Potential user selector module.\n *\n * @module     enrol_manual/form-potential-user-selector\n * @class      form-potential-user-selector\n * @package    enrol_manual\n * @copyright  2016 Damyon Wiese\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nvar brandName = '';\n\nfunction loadDoc(courseid, p){\n  require(['core/ajax'], function(ajax) {\n    var promises = ajax.call([{\n      methodname: 'enrol_pagseguro_get_session',\n      args:{'courseP': p }\n    }]);\n    promises[0].done(function(response) {\n      setPagueSeguroWSSessionId(response.stoken,courseid, response.courseP);\n    }).fail(function() {\n      // do something with the exception\n    });\n  });\n}\n\nfunction setPagueSeguroWSSessionId(sessionId,courseId, courseP){\n  PagSeguroDirectPayment.setSessionId(sessionId);\n  PagSeguroDirectPayment.getPaymentMethods({\n    success: function() {\n      // Retorna os meios de pagamento disponíveis.\n      require(['jquery', 'core/ajax', 'core/templates', 'core/notification','enrol_pagseguro/jqmask'], \n      \tfunction($, ajax, templates, notification, jqmask) {\n      var promises = ajax.call([{\n        methodname: 'enrol_pagseguro_get_forms',\n        args:{ 'sessionId' : sessionId, 'courseId': courseId, 'courseP': courseP }\n      }]);\n      promises[0].done(function(response) {\n        templates.render('enrol_pagseguro/checkout_form', JSON.parse(response)).done(function(html, js) {\n          $('#modal-return').html(html);\n          templates.runTemplateJS(js);\n          PagSeguroDirectPayment.onSenderHashReady(function(response){\n            if(response.status == 'error') {\n              return false;\n            }\n            var hash = response.senderHash; //Hash estará disponível nesta variável.\n            createMasks();\n          });\n        }).fail(notification.exception);\n          //document.getElementById(\"modal-return\").innerHTML = response;\n        }).fail(function() {\n          // do something with the exception\n        });\n      });\n    },\n    error: function(response) {\n      // Callback para chamadas que falharam.\n      document.getElementById(\"return\").innerHTML = JSON.stringify(response);\n    },\n    complete: function() {\n      // Callback para todas chamadas.\n      //document.getElementById(\"return\").innerHTML = JSON.stringify(response);\n    }\n  });\n}\n\nfunction createMasks(){\n  require(['jquery'], function($){\n  \tvar ph_options = {\n      onKeyPress: function(ph, e, field, ph_options){\n        var masks = ['(00) 0000-00009', '(00) 0 0000-0000'];\n        var mask = (ph.length > 14) ? masks[1] : masks [0];\n        $('.input-phone').mask(mask, ph_options);\n      }\n  \t}\n    $('.input-phone').mask(\"(00) 0000-0000\", ph_options);\n    var options = {\n      onKeyPress: function(doc, e, field, options){\n        var masks = ['000.000.000-009', '00.000.000/0000-00'];\n        var mask = (doc.length > 14) ? masks[1] : masks [0];\n        $('.input-cpfcnpj').mask(mask, options);\n      }\n    }\n    $('.input-cpfcnpj').mask(\"000.000.000-009\", options);\n    $('.input-ccnumber').mask('0000 0000 0000 0000');\n    $('.input-ccvalid').mask('00/0000');\n    $('.input-cvv').mask('000');\n    $('.input-cep').mask('00000-000');\n  });\n}\n\nfunction buscaCEP(){\n  require(['jquery'],function($){\n    var cep = $('#billingpostcode').val().replace(/\\D/g, '');\n    //Verifica se campo cep possui valor informado.\n    if (cep != \"\") {\n      //Expressão regular para validar o CEP.\n      var validacep = /^[0-9]{8}$/;\n      //Valida o formato do CEP.\n      if(validacep.test(cep)) {\n        //Preenche os campos com \"...\" enquanto consulta webservice.\n          $(\"#billingstreet\").val(\"...\");\n          $(\"#billingdistrict\").val(\"...\");\n          $(\"#billingcity\").val(\"...\");\n          $(\"#billingstate\").val(\"...\");\n          $(\"#ibge\").val(\"...\");\n        //Consulta o webservice viacep.com.br/\n        $.getJSON(\"https://viacep.com.br/ws/\"+ cep +\"/json/?callback=?\", function(dados) {\n          if (!(\"erro\" in dados)) {\n            //Atualiza os campos com os valores da consulta.\n            $(\"#billingstreet\").val(dados.logradouro);\n            $(\"#billingdistrict\").val(dados.bairro);\n            $(\"#billingcity\").val(dados.localidade);\n            $(\"#billingstate\").val(dados.uf);\n            $(\"#ibge\").val(dados.ibge);\n          } else {\n            //CEP pesquisado não foi encontrado.\n            limpa_formulário_cep();\n            alert(\"CEP não encontrado.\");\n          }\n        });\n      } else {\n        limpa_formulário_cep();\n        alert(\"Formato de CEP inválido.\");\n      }\n    } else {\n      //cep sem valor, limpa formulário.\n      limpa_formulário_cep();\n    }\n  });\n}\n\nfunction limpa_formulário_cep() {\n  // Limpa valores do formulário de cep.\n  require(['jquery'],function($){\n    $(\"#billingstreet\").val(\"\");\n    $(\"#billingdistrict\").val(\"\");\n    $(\"#billingcity\").val(\"\");\n    $(\"#billingstate\").val(\"\");\n    $(\"#ibge\").val(\"\");\n  });\n}\n\nfunction checkBrand(el, cp){\n  var cardnum = el.value.replace(/\\s/g, '');\n  if(cardnum.length >= 6){\n    PagSeguroDirectPayment.getBrand({\n      cardBin: Number(cardnum.substring(0,6)),\n      success: function(response) {\n        require(['jquery'],function($){\n          brandName = response.brand.name;\n          var imgsrc = \"https://stc.pagseguro.uol.com.br/public/img/payment-methods-flags/42x20/\";\n          $('#cardbrand').html(\"<img src=\\\"\"+imgsrc+response.brand.name+\".png\\\" />\" );\n          installments(brandName,cp);\n        }); \n      },\n      error: function() {\n       // console.log(\"ERROR\");\n      },\n      complete: function() {\n       // console.log(\"COMPLETE!\");\n      }\n    });\n  }\n}\n\nfunction installments(brandName,cp){\n  var n = Number.parseFloat(cp).toFixed(2);\n  PagSeguroDirectPayment.getInstallments({\n    amount: n,\n    brand: brandName,\n    success: function(response){\n      // Retorna as opções de parcelamento disponíveis\n      require(['jquery'],function($){\n        if(!response[\"error\"]){\n          var sel_installments = '<select id=\"installments\" name=\"ccinstallments\">';\n          response[\"installments\"][brandName].forEach(function(inst){\n            sel_installments += '<option value=\"'+inst[\"quantity\"]+'\">';\n            sel_installments += inst[\"quantity\"]+'x de '+inst[\"installmentAmount\"].toFixed(2);\n            sel_installments += '</option>';\n          });\n          sel_installments += '</select>'; \n        }\n        $('#card-installments').html(\"<span>\"+sel_installments+\"</span>\");\n      });\n      \n    },\n    error: function() {\n      // callback para chamadas que falharam.\n    },\n    complete: function(){\n      // Callback para todas chamadas.\n    }\n  });\n\n}\n\nfunction paycc(){\n  if(!ccValidateFields()){\n  \treturn;\n  }else{\n    require(['jquery'], function($){\n      var ccNum = $(\"input[name=ccnumber]\").val().replace(/\\s/g, '');\n      var ccCvv = $(\"input[name=cvv]\").val();\n      var ccExp = $(\"input[name=ccvalid]\").val().split(\"/\");\n      PagSeguroDirectPayment.createCardToken({\n        cardNumber: ccNum, // Número do cartão de crédito\n        brand: brandName, // Bandeira do cartão\n        cvv: ccCvv, // CVV do cartão\n        expirationMonth: ccExp[0], // Mês da expiração do cartão\n        expirationYear: ccExp[1], // Ano da expiração do cartão, é necessário os 4 dígitos.\n        success: function(response) {\n          //console.log(response.card.token);\n          if(ccValidateFields()){\n            $(\"input[name=cc_token]\").val(response.card.token); \n            $(\"#pagseguro_cc_form\").submit();\n            urlParams = new URLSearchParams(window.location.search);\n            $(\"input[name=instanceid]\").val(urlParams.get('id'));\n          }\n        },\n        error: function() {\n          // Callback para chamadas que falharam.\n          // console.log(response);\n        },\n        complete: function() {\n          // Callback para todas chamadas.\n        }\n      });\n    });\n  }\n}\n\nfunction payboleto(){\n  if(boletoValidateFields()){\n    require(['jquery'], function($){\n      var ccNum = $(\"input[name=sender_hash]\").val().replace(/\\s/g, '');\n      var ccCvv = $(\"input[name=cvv]\").val();\n      var ccExp = $(\"input[name=ccvalid]\").val().split(\"/\");\n      \n      PagSeguroDirectPayment.createCardToken({\n        cardNumber: ccNum, // Número do cartão de crédito\n        brand: brandName, // Bandeira do cartão\n        cvv: ccCvv, // CVV do cartão\n        expirationMonth: ccExp[0], // Mês da expiração do cartão\n        expirationYear: ccExp[1], // Ano da expiração do cartão, é necessário os 4 dígitos.\n        success: function(response) {\n          //console.log(response.card.token);\n          if(boletoValidateFields()){\n            $(\"input[name=sender_hash]\").val(hash); \n            $(\"#pagseguro_boleto_form\").submit();\n            urlParams = new URLSearchParams(window.location.search);\n            $(\"input[name=instanceid]\").val(urlParams.get('id'));\n          }\n        },\n        error: function() {\n          // Callback para chamadas que falharam.\n          // console.log(response);\n        },\n        complete: function() {\n          // Callback para todas chamadas.\n        }\n      });\n    });\n  }\n}\n\nfunction ccValidateFields(){\n  var rtn = true;\n  require(['jquery'],function($){\n    // console.log($(\"#ccEmail\").val().trim());\n    if(!$(\"#ccEmail\").val().trim()){\n      rtn = false;\n      $(\"#ccEmail-error\").html('Favor preencher email corretamente');\n    }else{\n      $(\"#ccEmail-error\").html('');\n    }\n    if(!$(\"#ccPhone\").val().trim()){\n      rtn = false;\n      $(\"#ccPhone-error\").html('Favor preencher telefone corretamente');\n    }else{\n      $(\"#ccPhone-error\").html('');\n    }\n    if(!$(\"#ccCPFCNPJ\").val().trim()){\n      rtn = false;\n      $(\"#ccCPFCNPJ-error\").html('Favor preencher CPF/CNPJ corretamente');\n    }else{\n      $(\"#ccCPFCNPJ-error\").html('');\n    }\n    if(!$(\"#ccName\").val().trim()){\n      rtn = false;\n      $(\"#ccName-error\").html('Favor preencher Nome corretamente');\n    }else{\n      $(\"#ccName-error\").html('');\n    }\n    if(!$(\"#ccNumber\").val().trim()){\n      rtn = false;\n      $(\"#ccNumber-error\").html('Favor preencher Número do cartão corretamente');\n    }else{\n      $(\"#ccNumber-error\").html('');\n    }\n    if(!$(\"#ccvalid\").val().trim()){\n      rtn = false;\n      $(\"#ccvalid-error\").html('Favor preencher Validade do cartão corretamente');\n    }else{\n      $(\"#ccvalid-error\").html('');\n    }\n    if(!$(\"#cvv\").val().trim()){\n      rtn = false;\n      $(\"#cvv-error\").html('Favor preencher CVV corretamente');\n    }else{\n      $(\"#cvv-error\").html('');\n    }\n    if(!$(\"#billingpostcode\").val().trim()){\n      rtn = false;\n      $(\"#billingpostcode-error\").html('Favor preencher cep corretamente');\n    }else{\n      $(\"#billingpostcode-error\").html('');\n    }\n    if(!$(\"#billingstreet\").val().trim()){\n      rtn = false;\n      $(\"#billingstreet-error\").html('Favor preencher campo corretamente');\n    }else{\n      $(\"#billingstreet-error\").html('');\n    }\n    if(!$(\"#billingstate\").val().trim()){\n      rtn = false;\n      $(\"#billingstate-error\").html('Favor preencher estado corretamente');\n    }else{\n      $(\"#billingstate-error\").html('');\n    }\n    if(!$(\"#billingdistrict\").val().trim()){\n      rtn = false;\n      $(\"#billingdistrict-error\").html('Favor preencher bairro corretamente');\n    }else{\n      $(\"#billingdistrict-error\").html('');\n    }\n    if(!$(\"#billingcity\").val().trim()){\n      rtn = false;\n      $(\"#billingcity-error\").html('Favor preencher cidade corretamente');\n    }else{\n      $(\"#billingcity-error\").html('');\n    }\n  });\n\n  return rtn;\n}\n\nfunction boletoValidateFields(){\n  var rtn = true;\n  require(['jquery'],function($){\n    // console.log($(\"#ccEmail\").val().trim());\n    if(!$(\"#boleto_nome\").val().trim()){\n      rtn = false;\n      $(\"#boleto_nome-error\").html('Favor preencher o nome corretamente');\n    }else{\n      $(\"#boleto_nome-error\").html('');\n    }\n    if(!$(\"#boleto_email\").val().trim()){\n      rtn = false;\n      $(\"#boleto_email-error\").html('Favor preencher email corretamente');\n    }else{\n      $(\"#boleto_email-error\").html('');\n    }\n    if(!$(\"#boleto_phone\").val().trim()){\n      rtn = false;\n      $(\"#boleto_phone-error\").html('Favor preencher telefone corretamente');\n    }else{\n      $(\"#boleto_phone-error\").html('');\n    }\n    if(!$(\"#boleto_doc\").val().trim()){\n      rtn = false;\n      $(\"#boleto_doc-error\").html('Favor preencher CPF/CNPJ corretamente');\n    }else{\n      $(\"#boleto_doc-error\").html('');\n    }\n  });\n\n  return rtn;\n}\n\n\n"],"file":"transparent-checkout.min.js"}